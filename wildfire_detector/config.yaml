# ---------------------------------------------------
# Image Sizes
# ---------------------------------------------------

image:
  ir_size: [1280, 720]          # IR image resolution [width, height]
  rgb_size: [1920, 1080]        # RGB image resolution [width, height]

# ---------------------------------------------------
# Camera Field of View (FOV)
# ---------------------------------------------------

fov:
  min_deg: 2.2                  # Minimum allowed FOV [degrees]
  max_deg: 60.0                 # Maximum allowed FOV [degrees]

# ---------------------------------------------------
# Grid Sampling
# ---------------------------------------------------

grid:
  points_per_frame: 4           # Number of points to sample in the uniform grid - for H calc

# ---------------------------------------------------
# Fire Parameters
# ---------------------------------------------------

fire:
  max_size_m: 3                # Max estimated fire length [meters]
  ratio_in_rgb_image: 0.25     # Required fire size ratio within the RGB image

# ---------------------------------------------------
# Preprocessing
# ---------------------------------------------------

preprocessing:
  apply: false                  # Apply preprocessing to input images (convert to uint8, etc.)

# ---------------------------------------------------
# Postprocessing Parameters
# ---------------------------------------------------

postprocessing:
  threshold: null               # Optional hard threshold on diff map (overrides diff_threshold)
  temp_threshold: null          # Optional temperature-based threshold for refinement

# ---------------------------------------------------
# Clustering (DBSCAN)
# ---------------------------------------------------

dbscan:
  min_samples_factor: 10        # Factor to determine min_samples = fire_size * factor
  eps_distance_factor: 1.5      # Factor to scale DBSCAN radius (eps)
  diff_threshold: 50           # Minimum difference between frames to consider a pixel as active
  min_contrast: 10              # Minimum contrast for selecting cluster centers

# ---------------------------------------------------
# Cluster Scoring
# ---------------------------------------------------

scoring:
  norm_size: 25                 # Normalized cluster size (e.g., 5x5 pixels)
  norm_intensity: 200           # Normalized average cluster intensity


# ---------------------------------------------------
# Phase 2 Parameters
# ---------------------------------------------------

phase2:
  net_image_size: 224                 # Input size expected by the classification network (in pixels)
  crop_factors: [1.2247, 1.4142, 2.0] # Factors used to crop around detected fire regions at multiple scales
  

# ---------------------------------------------------
# Detector Client parameters
# ---------------------------------------------------  
  
detector:
  server_url: "http://127.0.0.1:8000"
  geo_server_address: "http://localhost:8080"

